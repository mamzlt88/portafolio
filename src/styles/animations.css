@keyframes vt-model-open {
  0% { transform: translate(0, 0) scale(1); }
  50% { transform: translate(6px, -6px) scale(0.82); }
  100% { transform: translate(12px, -12px) scale(0.7); }
}
/* animations.css â€” custom keyframes and transition utilities used across the site */

/* Toggle knob micro-interaction */
@keyframes toggle-bounce {
  0% { transform: scale(1); }
  45% { transform: scale(0.88); }
  100% { transform: scale(1); }
}

.animate-toggle-bounce { animation: toggle-bounce 180ms ease-out; }

@media (prefers-reduced-motion: reduce) {
  .animate-toggle-bounce { animation: none; }
}

/* Combined slide + press that preserves vertical centering */
@keyframes toggle-press {
  0% { transform: translateY(-50%) translateX(0) scale(1); }
  45% { transform: translateY(-50%) translateX(-4px) scale(0.92); }
  100% { transform: translateY(-50%) translateX(0) scale(1); }
}

.animate-toggle-press { animation: toggle-press 220ms cubic-bezier(0.22, 0.61, 0.36, 1); }

@media (prefers-reduced-motion: reduce) {
  .animate-toggle-press { animation: none; }
}

@keyframes float-slow {
  0% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
  100% { transform: translateY(0); }
}

@keyframes fade-in-up {
  0% { opacity: 0; transform: translateY(8px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes vt-fade-out {
  from { opacity: 1; }
  to { opacity: 0; }
}

@keyframes vt-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

.float-slow { animation: float-slow 4s ease-in-out infinite; }
.fade-in-up { animation: fade-in-up 400ms var(--default-transition-timing-function) both; }

/* View Transitions customizations */
/* Opening (Landing -> About) */
html.vt-opening-about::view-transition-group(about-tile) {
  animation-duration: 800ms;
  animation-timing-function: ease-in-out;
  z-index: 42;
}
/* About text fades in on open */
html.vt-opening-about::view-transition-new(about-content) {
  animation: vt-fade-in 400ms ease-out both;
}
html.vt-opening-about::view-transition-group(model) {
  animation-duration: 800ms;
  animation-timing-function: ease-in-out;
  z-index: 45;
  transform-origin: center;
  /* subtle diagonal slide with scale bias toward 0.7 */
  animation-name: vt-model-open;
}

/* Closing (About -> Landing) */
html.vt-closing-about::view-transition-group(about-tile) {
  animation-duration: 650ms;
  animation-timing-function: ease-in-out;
  z-index: 42;
}
html.vt-closing-about::view-transition-group(model) {
  animation-duration: 300ms;
  animation-timing-function: ease-in;
  z-index: 45;
}
/* About text fades out on close */
html.vt-closing-about::view-transition-old(about-content) {
  animation: vt-fade-out 250ms ease-in forwards;
}

/* Fast fade-out of the old model on close */
html.vt-closing-about::view-transition-old(model) {
  animation: vt-fade-out 300ms ease-in forwards;
}

/* Avoid transitions for users preferring reduced motion */
@media (prefers-reduced-motion: reduce) {
  :root::view-transition-group(*) { animation-duration: 1ms; }
}

/* Global: fade the rest of the UI (root) on view transitions. */
@supports (view-transition-name: none) {
  /* While a view transition runs, hide the live model DOM so only the snapshot is visible */
  html.vt-running .vt-model { visibility: hidden !important; }

  /* Old view fades out quickly */
  ::view-transition-old(root) {
    animation: vt-fade-out 200ms ease-in forwards;
  }

  /* New view fades in */
  ::view-transition-new(root) {
    animation: vt-fade-in 200ms ease-out both;
  }

  /* Ensure the named model track stays above the root cross-fade */
  ::view-transition-group(model) {
    z-index: 9999;
    animation-duration: 320ms;
    animation-timing-function: ease-in-out;
  }

  /* Allow default shared element animation between old and new model snapshots */
}
